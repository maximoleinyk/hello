{"version":3,"file":"../ect.min.js","sources":["./ect.js"],"names":["fs","path","CoffeeScript","ECT","options","this","open","close","ext","cache","watch","root","ect","trimExp","newlineExp","watchers","indentChars",":",">","escapeExp","escapeAmpExp","escapeLtExp","escapeGtExp","escapeQuotExp","regExpEscape","str","String","replace","read","file","Object","prototype","toString","call","data","split","reduce","currentContext","key","Error","readFileSync","e","compile","template","lineNo","bufferStack","bufferStackPointer","buffer","matches","RegExp","output","text","command","line","prefix","postfix","newline","indentChar","indentation","indent","indentStack","indentStackPointer","baseIndent","lines","j","i","length","charAt","substr","test","push","pop","splice","search","undefined","eval","bare","TemplateContext","blocks","childContent","escape","result","block","name","content","load","compiled","container","extExp","process","platform","normalize","message","source","lastModified","Date","toUTCString","gzip","persistent","render","that","fileInfo","apply","arguments","configure","option","callback","context","clearCache","module","exports","compiler","zlib","require","rootExp","req","res","next","method","url","setHeader","err","end","Buffer","byteLength","define","amd","cs","Array","filter","fun","thisp","len","val","TypeError","accumulator","curr","undef","nativeSplit","compliantExecNpcg","exec","self","separator","limit","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","separator2","match","lastIndex","lastLength","index","slice","window","normalizeArray","parts","allowAboveRoot","up","last","unshift","isAbsolute","trailingSlash","p","join","encoding","AJAX","XMLHttpRequest","overrideMimeType","ActiveXObject","send","status","responseText"],"mappings":"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"}